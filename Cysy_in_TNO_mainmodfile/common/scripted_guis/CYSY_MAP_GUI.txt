scripted_gui = {
	TNO_CYS_map = {
		context_type = player_context
		window_name = "CYSY_map_GUI"
		parent_window_token = CYSY_map_GUI

		visible = { has_country_flag = CYSY_Map_GUI_open_flag }

		effects = {
			CYSY_map_close_button_click = {
				clr_country_flag = CYSY_Map_GUI_open_flag
			}
		}
		
		effects = {
			CYSY_map_senior3_master_outline_click = {
				set_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior3_main_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				set_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior2_north_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				set_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior2_B_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				set_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior2_south_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				set_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior3_south_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				set_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior_west_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				set_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior_east_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				set_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_senior1_main_outline_click = {
				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				set_country_flag = CYSY_map_senior1_main_chosen_flag
				clr_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}
			CYSY_map_school_hall_outline_click = {

				clr_country_flag = CYSY_map_senior3_master_chosen_flag
				clr_country_flag = CYSY_map_senior3_main_chosen_flag
				clr_country_flag = CYSY_map_senior2_north_chosen_flag
				clr_country_flag = CYSY_map_senior2_B_chosen_flag
				clr_country_flag = CYSY_map_senior2_south_chosen_flag
				clr_country_flag = CYSY_map_senior3_south_chosen_flag
				clr_country_flag = CYSY_map_senior_west_chosen_flag
				clr_country_flag = CYSY_map_senior_east_chosen_flag
				clr_country_flag = CYSY_map_senior1_main_chosen_flag
				set_country_flag = CYSY_map_school_hall_chosen_flag
				update_all_CYSY_control_pie_charts = yes
			}

			CYSY_map_data_display_button_ZJC_click = {
				set_country_flag = CYSY_map_controler_data_ZJC_chosen
				clr_country_flag = CYSY_map_controler_data_JWC_chosen
				clr_country_flag = CYSY_map_controler_data_XSH_chosen
				clr_country_flag = CYSY_map_controler_data_FJW_chosen
				clr_country_flag = CYSY_map_controler_data_JBZX_chosen
			}

			CYSY_map_data_display_button_JWC_click = {
				clr_country_flag = CYSY_map_controler_data_ZJC_chosen
				set_country_flag = CYSY_map_controler_data_JWC_chosen
				clr_country_flag = CYSY_map_controler_data_XSH_chosen
				clr_country_flag = CYSY_map_controler_data_FJW_chosen
				clr_country_flag = CYSY_map_controler_data_JBZX_chosen
			}

			CYSY_map_data_display_button_XSH_click = {
				clr_country_flag = CYSY_map_controler_data_ZJC_chosen
				clr_country_flag = CYSY_map_controler_data_JWC_chosen
				set_country_flag = CYSY_map_controler_data_XSH_chosen
				clr_country_flag = CYSY_map_controler_data_FJW_chosen
				clr_country_flag = CYSY_map_controler_data_JBZX_chosen
			}

			CYSY_map_data_display_button_FJW_click = {
				clr_country_flag = CYSY_map_controler_data_ZJC_chosen
				clr_country_flag = CYSY_map_controler_data_JWC_chosen
				clr_country_flag = CYSY_map_controler_data_XSH_chosen
				set_country_flag = CYSY_map_controler_data_FJW_chosen
				clr_country_flag = CYSY_map_controler_data_JBZX_chosen
			}

			CYSY_map_data_display_button_JBZX_click = {
				clr_country_flag = CYSY_map_controler_data_ZJC_chosen
				clr_country_flag = CYSY_map_controler_data_JWC_chosen
				clr_country_flag = CYSY_map_controler_data_XSH_chosen
				clr_country_flag = CYSY_map_controler_data_FJW_chosen
				set_country_flag = CYSY_map_controler_data_JBZX_chosen
			}
		}
		triggers = {
			CYSY_building_constructing_title_visible = {
				has_country_flag = CYSY_map_senior_east_chosen_flag
				has_country_flag = CYSY_senior_east_building
				
			}

			CYSY_building_constructing_meter_visible = {
				has_country_flag = CYSY_map_senior_east_chosen_flag
				has_country_flag = CYSY_senior_east_building
				
			}

			CYSY_building_constructing_desc_visible = {
				has_country_flag = CYSY_map_senior_east_chosen_flag
				has_country_flag = CYSY_senior_east_building
				
			}

			CYSY_building_constructing_background_visible = {
				has_country_flag = CYSY_map_senior_east_chosen_flag
				has_country_flag = CYSY_senior_east_building
				
			}
			
		}
		properties = {
			####描边
			CYSY_map_senior3_master_outline = {
				image = "[getGFX_CYSY_map_senior3_master_outline]"
			}
			CYSY_map_senior3_main_outline = {
				image = "[getGFX_CYSY_map_senior3_main_outline]"
			}
			CYSY_map_senior2_north_outline = {
				image = "[getGFX_CYSY_map_senior2_north_outline]"
			}
			CYSY_map_senior2_B_outline = {
				image = "[getGFX_CYSY_map_senior2_B_outline]"
			}
			CYSY_map_senior2_south_outline = {
				image = "[getGFX_CYSY_map_senior2_south_outline]"
			}
			CYSY_map_senior3_south_outline = {
				image = "[getGFX_CYSY_map_senior3_south_outline]"
			}
			CYSY_map_senior_west_outline = {
				image = "[getGFX_CYSY_map_senior_west_outline]"
			}
			CYSY_map_senior_east_outline= {
				image = "[getGFX_CYSY_map_senior_east_outline]"
			}
			CYSY_map_senior1_main_outline = {
				image = "[getGFX_CYSY_map_senior1_main_outline]"
			}
			CYSY_map_school_hall_outline = {
				image = "[getGFX_CYSY_map_school_hall_outline]"
			}
			#####染色

			CYSY_map_senior3_master = {
				image = "[getCYSY_map_controler_senior3_master]"
			}
			CYSY_map_senior3_main = {
				image = "[getCYSY_map_controler_senior3_main]"
			}
			CYSY_map_senior2_north = {
				image = "[getCYSY_map_controler_senior2_north]"
			}
			CYSY_map_senior2_B = {
				image = "[getCYSY_map_controler_senior2_B]"
			}
			CYSY_map_senior2_south = {
				image = "[getCYSY_map_controler_senior2_south]"
			}
			CYSY_map_senior3_south = {
				image = "[getCYSY_map_controler_senior3_south]"
			}
			CYSY_map_senior_west = {
				image = "[getCYSY_map_controler_senior_west]"
			}
			CYSY_map_senior_east = {
				image = "[getCYSY_map_controler_senior_east]"
			}
			CYSY_map_senior1_main = {
				image = "[getCYSY_map_controler_senior1_main]"
			}
			CYSY_map_school_hall  = {
				image = "[getCYSY_map_controler_school_hall]"
			}

			##图片

			CYSY_map_display_map_pic = {
				image = "[getGFX_CYSY_map_pic]"
			}


			JBZX_pie = { frame = display_JBZX_pie }
			FJW_pie = { frame = display_FJW_pie }
			XSH_pie = { frame = display_XSH_pie }
			JWC_pie = { frame = display_JWC_pie }
			ZJC_pie = { frame = display_ZJC_pie }

			##控制力小小按钮
			CYSY_map_data_display_button_ZJC = {
				image = "[getCYSY_map_data_display_button_ZJC]"
			}

			CYSY_map_data_display_button_JWC = {
				image = "[getCYSY_map_data_display_button_JWC]"
			}

			CYSY_map_data_display_button_XSH = {
				image = "[getCYSY_map_data_display_button_XSH]"
			}

			CYSY_map_data_display_button_FJW = {
				image = "[getCYSY_map_data_display_button_FJW]"
			}

			CYSY_map_data_display_button_JBZX = {
				image = "[getCYSY_map_data_display_button_JBZX]"
			}

			CYSY_building_constructing_meter ={
				frame = CYSY_building_constructing_data_completed 
			}
			
		}
		
	}
}